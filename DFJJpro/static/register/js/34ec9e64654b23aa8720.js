(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1045:function(e,t,o){"use strict";o.r(t);o(67),o(122),o(324),o(66),o(325),o(183);var r,n=o(4),c=o.n(n),l=(o(65),o(15)),d=o.n(l),footer=o(576),m=o(346),f=o(640),h=o(641),T=o(319),w=o(28),y=o(334),C={name:"Register",data:function(){return{mobile:"",imgCodeUrl:"",firstType:"phone",lastType:"imgCode",link:"login",firstPlaceholder:"请输入手机号",lastPlaceholder:"请输入图形验证码",formType:"protocol",linkType:"register",firstTips:"手机号",lastTips:"图形验证码",btnText:"下一步",registerFormData:{},pageView:"register",showLogo:!0,rd:""}},components:{userForm:m.a,TopicTitle:f.a,UserLink:h.a,Footer:footer.a},asyncData:(r=d()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.l)().catch(function(e){console.log(e.message,"注册页面展示信息")});case 2:if(!(t=e.sent)||!t.data){e.next=5;break}return e.abrupt("return",{registerFormData:t.data||{}});case 5:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),mounted:function(){var e=this;this.rd=location.search,this.setBgColor(),Object(w.e)("userMobile"),Object(T.m)("注册"),window.sensors.track("pageview",{$screen_name:"注册第一步页面",$title:"注册",screen_id:"v400_sign0001"}),Object(T.f)(),window.addEventListener("resize",function(){var t="BackCompat"===document.compatMode?document.body.clientHeight:document.documentElement.clientHeight;e.showLogo=!(t<1400)})},destroyed:function(){window.document.documentElement.style.backgroundColor="#f7f7f7"},methods:{setBgColor:function(){window.document.documentElement.style.backgroundColor="#ffffff"},submitInfo:function(data){var e=this;this.$loading.show(),Object(y.n)({imgCode:data.imgcode,mobile:data.mobile,imgCodeType:0}).then(function(){if(window.sensors.track("phone_sign_up",{phone_number:data.mobile}),Object(w.g)("userMobile",data.mobile),location.search&&location.search.indexOf("rd")>-1){var t=location.search.split("rd=")[1];e.$router.push("register/set-password?rd=".concat(t))}else e.$router.push("register/set-password")}).catch(function(t){"107010"===t.code?e.$messageBox({message:"该手机号已注册",okText:"去登录",cancelText:"重新输入"}).then(function(){e.$router.push("/login")}).catch(function(){}):e.$toast(t.message),e.sendImgCode(data.mobile)}).finally(function(){e.$loading.hide()})},sendImgCode:function(e){var t=this;this.mobile=e,Object(y.d)({imgCodeType:0,mobile:e}).then(function(e){t.imgCodeUrl="data:image/png;base64,".concat(e.data.imgCode)}).catch(function(e){t.$toast(e.message)})}}},k=(o(856),o(10)),component=Object(k.a)(C,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{staticClass:"register-wrap"},[o("section",{staticClass:"register-content"},[o("topic-title",{attrs:{mainTitle:e.registerFormData.copyWriterFirstLine,subTitle:e.registerFormData.copyWriterSecondLine,pageType:"register"}}),e._v(" "),o("user-form",{attrs:{btnText:e.btnText,firstType:e.firstType,lastType:e.lastType,firstPlaceholder:e.firstPlaceholder,lastPlaceholder:e.lastPlaceholder,formType:e.formType,protocolName:e.registerFormData.protocolName,protocolUrl:e.registerFormData.protocolUrl,imgCode:e.imgCodeUrl,firstTips:e.firstTips,lastTips:e.lastTips,page:e.pageView},on:{click:e.submitInfo,input:e.sendImgCode,sendImgCode:e.sendImgCode}}),e._v(" "),o("user-link",{attrs:{type:e.linkType,link:e.link,rd:e.rd}})],1),e._v(" "),e.showLogo?o("Footer",{staticClass:"footer-fans",attrs:{enrollmentDesc:e.registerFormData.enrollmentDesc}}):e._e()],1)},[],!1,null,"6c07fef8",null);t.default=component.exports},463:function(e,t,o){},856:function(e,t,o){"use strict";var r=o(463);o.n(r).a}}]);